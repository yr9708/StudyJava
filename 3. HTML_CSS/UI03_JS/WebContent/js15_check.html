<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>js15</title>
<style type="text/css">
	#colorbox{
		width:320px;
		height:320px;
		position:relative;
	}
	
	#indianred, #lightgreen, #skyblue, #lightyellow{
		width:150px;
		height:150px;
		border:1px solid black;
		position: absolute;
	}
	
	#lightgreen{left:160px;}
	
	#skyblue{top:160px;}
	#lightyellow{left:160px; top:160px;}
</style>
<script type="text/javascript">
	function allsel(check){ 					//true, false로 받을거야
		var chks = document.getElementsByName("chk");
		for(var i=0; i<chks.length; i++){
			chks[i].checked = check;		//속성들에서 값을 주면 모두 true로 본다. "checked" "test" 등등 true
		}			
	}
	
	function sel(){
		var chks = document.getElementsByName("chk");

		for(var i=0; i<chks.length; i++){
			if(chks[i].checked){
				document.getElementById(chks[i].value).style.backgroundColor=chks[i].value;
			}else{
				document.getElementById(chks[i].value).style.backgroundColor="";
			}
		}
	}
	
	function clearDiv(){
/* 		var chks = document.getElementsByName("chk");
		for(var i=0; i<chks.length; i++){
			document.getElementById(chks[i].value).style.backgroundColor="";
			chks[i].checked=false;
		} */
		
		
		var colorbox = document.querySelectorAll("#colorbox > div");
		for (var i=0; i<colorbox.length; i++){
			colorbox[i].style.backgroundColor = "";
		}
		
		document.getElementsByName("all")[0].checked = false;
		allsel(false);
	}
	
</script>
</head>
<body>
	<div id="colorbox">
		<div id="indianred">red</div>
		<div id="lightgreen">green</div>
		<div id="skyblue">blue</div>
		<div id="lightyellow">yellow</div>
	</div>
	
	<div id="base">
		<form>
			<input type="checkbox" name="all" onclick="allsel(this.checked);"/>전체선택<br/>
			
			<input type="checkbox" name="chk" value="indianred"/>빨강<br/>
			<input type="checkbox" name="chk" value="lightgreen"/>초록<br/>
			<input type="checkbox" name="chk" value="skyblue">파랑<br>
			<input type="checkbox" name="chk" value="lightyellow">노랑<br>
			
			<input type="button" value="선택" onclick="sel();">
			<input type="button" value="초기화" onclick="clearDiv()">
		</form>
	</div>
</body>
</html>