<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>jq22</title>
<style type="text/css">
	*{margin:0px; padding:0px;}
	table{width:900px;}
	table tr:nth-child(1){background-color:skyblue;} /* index 는 1부터 */
	fieldset{width:400px;}
	body{width:1000px; margin:50px auto;}
</style>
<script type="text/javascript" src="resources/js/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="resources/js/create_table.js"></script>
<script type="text/javascript">
	$(function(){
		$("#emp_search").click(function(){
			$.ajax({
				url : "emplist.xml",
				dataType:"xml",
				// dataType이 없으면 문자열로 리턴이되기때문에 (msg).find("ROW") 사용 할 수 없다.
				// 파일의 데이터를 가져오는 것.
				success:function(msg){
					var empRowList = $(msg).find("ROW");
					$("body").append(makeTable(empRowList));
				},
				error:function(){
					alert("통신 실패");
				}
			});
		});
	});

</script>
</head>
<body>
	<h1>데이터 가져오기</h1>
	
	<fieldset>
		<legend>사원전체 조회</legend>
		<input type="button" value="조회" id="emp_search">
	</fieldset>
</body>
</html>