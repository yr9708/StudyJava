DROP SEQUENCE MYNOSEQ;
DROP TABLE MYMEMBER;

CREATE SEQUENCE MYNOSEQ;

-- 번호, 아이디, 비밀번호, 이름, 주소, 전화번호, 이메일, 가입여부(가입:Y / 탈퇴:N), 등급(ADMIN,USER,MANAGER)
CREATE TABLE MYMEMBER(
	MYNO NUMBER NOT NULL, 			-- PRIMARY KEY
	MYID VARCHAR2(500) NOT NULL,	-- UNIQUE KEY
	MYPW VARCHAR2(500) NOT NULL,	
	MYNAME VARCHAR2(500) NOT NULL,
	MYADDR VARCHAR2(2000) NOT NULL,
	MYPHONE VARCHAR2(20) NOT NULL,	-- UNIQUE 
	MYEMAIL VARCHAR2(100) NOT NULL,	-- UNIQUE
	MYENABLED VARCHAR2(2) NOT NULL,	-- CHECK(Y OR N)
	MYROLE VARCHAR2(100) NOT NULL,
	CONSTRAINT MYMEMBER_PK PRIMARY KEY (MYNO),
	CONSTRAINT MYMEMBER_UQ_ID UNIQUE (MYID),
	CONSTRAINT MYMEMBER_UQ_PHONE UNIQUE (MYPHONE),
	CONSTRAINT MYMEMBER_UQ_EMAIL UNIQUE (MYEMAIL),
	-- CONSTRAINT MYMEMBER_UQ_EMAIL UNIQNE(MYIN, MYPHONE, MYEMAIL) 쓰는것 자체는 되는데 위에 쓴 3개의 문장이랑은 다른 내용임 
	-- 세개를 묶어서 유니크 키로 잡음
	CONSTRAINT MYMEMBER_CHK_ENABLED CHECK (MYENABLED IN ('Y','N'))
);

INSERT INTO MYMEMBER VALUES (MYNOSEQ.NEXTVAL, 'admin', 'admin1234','관리자','서울시 강남구','010-0000-0000','ADMIN@ADMIN.COM','Y','ADMIN');

SELECT MYNO, MYID, MYPW, MYNAME, MYADDR, MYPHONE, MYEMAIL, MYENABLED, MYROLE 
FROM MYMEMBER
ORDER BY MYNO DESC;
